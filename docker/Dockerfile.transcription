FROM offline_transcription_basetrans:latest
MAINTAINER Daniel Sobe <daniel.sobe@sorben.com>

# docker build -f docker/Dockerfile.transcription -t offline_transcription_back .
# docker build -f docker/Dockerfile.transcription -t offline_transcription_back . --no-cache


# copy files from local and install

RUN mkdir -p /uploader-recny-model-server/src

COPY package.json package-lock.json tsconfig.json /uploader-recny-model-server
COPY src                                          /uploader-recny-model-server/src

RUN cd uploader-recny-model-server && mkdir -p uploads && npm install

COPY docker/startme_transcription.sh /

RUN mkdir -p /proprietary

RUN mkdir -p /whisper

RUN mkdir -p /fairseqdata

CMD ["/bin/bash", "-c", "/startme_transcription.sh"] 
